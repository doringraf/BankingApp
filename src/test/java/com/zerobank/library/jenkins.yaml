pipeline:
  agent:
    any:
      unclassified:
        influxDbGlobalConfig:
          targets:
            - database: "some_database"
              description: "some description"
              exposeExceptions: true
              globalListener: true
              globalListenerFilter: "some filter"
              jobScheduledTimeAsPointsTimestamp: true
              password: "some password"
              retentionPolicy: "some_policy"
              url: "http://some/url"
              username: "some username"
              usingJenkinsProxy: true
  stages:
    - stage: "Log Jenkins Maven Docker Java and Git versions"
      steps:
        - sh "mvn -version"
        - sh "java -version"
        - sh "git --version"
        - sh "docker --version"
    - stage: "Jenkins YAML Maven Build"
      steps:
        - git "https://github.com/learn-devops-fast/rock-paper-scissors.git"
        - sh "mvn clean compile test install"
    - stage: "Final Jenkins YAML Pipeline Stage"
      steps:
        - sh "echo 'Jenkins YAML Pipeline Complete'"
